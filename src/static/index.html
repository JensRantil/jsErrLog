<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
<head>
<title>jsErrLog :: Javascript Error Logging and Reporting Tool</title>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-101658-7']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js" type="text/javascript"></script> 
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.13/jquery-ui.min.js" type="text/javascript"></script>
<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.13/themes/base/jquery-ui.css" type="text/css" media="all" /> 
<meta name="title" content="jsErrLog - Invisibly Trap and Report Javascript errors" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="keywords" content="javascript, error, OnError, report, user experience, html, html5, Dr Watson"/>
<meta name="description" content="Using one line of Javascript to trap, report and manage unexpected errors on your site. Ideal for more complex HTML5 and Javascript driven dynamic websites. For Windows developers it's like having Watson for the Web"/>
<style>
body {
	font-family:Lucida Sans Unicode, Lucida Grande, Verdana, sans-serif;
}
</style>

<script type="text/javascript" src="http://jserrlog.appspot.com/jserrlog.js"></script>
<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
<script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
</head>
<body>
<h2>jsErrLog : Tracking javascript errors</h2>

<script type="text/javascript">
    $(document).ready(function() {
        $('#accordion').accordion({ header: 'h3', autoHeight: false, collapsible: true });
    });
</script>


<div id="accordion">
	<h3><a href="#">What is jsErrLog</a></h3>
	<div>If there is a javascript error on your page then your user sees it, but you don't know that there's a problem unless they contact you (more likely they simply close the browser and never come back)
<p><b>jsErrLog</b> is a self-contained service that captures the javascript error (so it doesn't scare the user) and sends the details back to the logging server so you can review the problem.
<p>For Web developers you can think of it a light-weight javascript <a href="http://en.wikipedia.org/wiki/Dr._Watson_(debugger)">[Dr] Watson</a> equivalent which gives you simple access to a limited set of SQM data.
<p>jsErrLog is highly performant and is designed to fail gracefully - if there's a problem with the service it won't impact your application in any way.
<p>You can find out more about jsErrLog via <a href="http://post.offbeatmammal.com/tag/jserrlog">my blog posts</a>.
<table>
<tr valign="top">
<td><a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="OffBeatMammal">Tweet</a></td>
<td><g:plusone size="medium"></g:plusone></td>
<td><div id="fb-root"></div><script src="http://connect.facebook.net/en_US/all.js#appId=188305507885128&amp;xfbml=1"></script>
<fb:like href="http://jsErrLog.appspot.com" send="true" width="450" show_faces="false" font=""></fb:like></td>
<td><a href="http://www.reddit.com/submit" onclick="window.location = 'http://www.reddit.com/submit?url=' + encodeURIComponent(window.location); return false"> <img src="http://www.reddit.com/static/spreddit7.gif" alt="submit to reddit" border="0" /> </a></td>
<td>
<script type="text/javascript">
(function() {
var s = document.createElement('SCRIPT'), s1 = document.getElementsByTagName('SCRIPT')[0];
s.type = 'text/javascript';
s.async = true;
s.src = 'http://widgets.digg.com/buttons.js';
s1.parentNode.insertBefore(s, s1);
})();
</script>
<a class="DiggThisButton DiggCompact"></a></td>
</tr></table>
	</div>
	<h3><a href="#">Integrating jsErrLog into your site</a></h3>
	<div>The only work you have to do is add the following code to your site:
<div class="csharpcode"><pre class="alt">&lt;script type=<span class="str">"text/javascript"</span> src=<span class="str">"http://jserrlog.appspot.com/jserrlog-min.js"</span>&gt;&lt;/script&gt;</pre><pre>&nbsp;</pre>
<pre class="alt">&lt;script type=<span class="str">"text/javascript"</span>&gt;</pre>
<pre><span class="rem">// Configure site parameters</span></pre>
<pre class="alt"><span class="rem">//jsErrLog.debugMode = true;</span></pre>
<pre><span class="rem">// Optionally add additional debug information to the <i>jsErrLog.info</i> message field</span></pre>
<pre class="alt"><span class="rem">//jsErrLog.info = "Populated the Info Message to pass to logger"</span></pre>
<pre>&lt;/script&gt;</pre></div>
<style type="text/css">.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>If you want the page to still throw javascript errors locally just set the <b>debugMode</b> to <i>true</i> and errors will be reported and then passed back to the browser.</p>
<p>At any time in your script you can update that value of the <b>jsErrLog.info</b> variable and that will be passed through to the report (note: it is truncated at 512 characters to protect the POST limit of 2048 characters)
<hr>
<p>If you already have your own error trapping logic that connects to the window.onerror event simply make sure it has been defined before you include the <b>jserrlog.min.js</b> file and after reporting the error the details will be passed to your existing handler.</p>
<p>If you want to see what the javascript is doing remove the <i>-min</i> and review <a href="/jserrlog.js">jserrlog.js</a>

<p>If you deploy the script anywhere I'd love to know. Please get in touch with me via <a href="http://post.offbeatmammal.com/watson-for-the-web-trapping-javascript-errors">this blog post</a>

	</div>

	<h3><a href="#">Sample Errors and Viewing Reports</a></h3>
	<div>To see error reports from your site go to <a href="http://jserrlog.appspot.com/rpt.html">http://jserrlog.appspot.com/rpt.html</a> and enter the top level URL (eg <a href="report.html?sn=http://blog.offbeatmammal.com">http://blog.offbeatmammal.com</a>) you want to examine

	<p>But what if you don't want a report on-screen? Well, fear not. We expose an XML data feed for your reports. If you know the URL you can access it directly eg <a href="http://jserrlog.appspot.com/report.xml?sn=http://blog.offbeatmammal.com">http://jserrlog.appspot.com/report.xml?sn=http://blog.offbeatmammal.com</a> or simply click the "XML" link from the on-screen report.
	
<p>You can see samples of the types of errors trapped <a href="http://blog.offbeatmammal.com/samples/jserr/jserr.html">here</a> and <a href="http://blog.offbeatmammal.com/samples/jserr/jserr2.html">here</a>.

	</div>

	
	<h3><a href="#">Caveats</a></h3>
	<div>Although this is stable and in production use today there are a couple of things you should be aware of:
	<ul>
	<li>There's currently no pagination in reports. You get (up to) the last 500 entries. It's on the to-do list :)
	<li>Because this is running on the free Google AppEngine service if the database is full or the CPU is exhausted it won't work. If I got folks interesting in using and supporting it I'm happy to scale accordingly but I'm not able to underwrite the service on an on-going basis. See below for details on how to donate.
<li>At the moment while this works as expected in IE, Firefox and <a href="http://code.google.com/p/chromium/issues/detail?id=7771">Chrome</a> <a href="https://bugs.webkit.org/show_bug.cgi?id=8519">v10<a> and later (including ChromeOS), it is not working yet in Safari (though the latest WebKit nightlies show encouraging progress apart from <a href="https://bugs.webkit.org/show_bug.cgi?id=63506">this bug</a>) or <a href="http://my.opera.com/community/forums/topic.dml?id=12228">Opera</a> - it's frustrating to see people are too busy arguing semantics (since <a href="https://developer.mozilla.org/en/DOM/window.onerror">2006</a>) to actually agree on the best way to deliver the solution. jQuery no longer attempts to support this because of the cross browser complexity and <a href="http://dev.jquery.com/ticket/3982">closed the bug via documentation</a> ... so now you have a solution.
</ul>

	</div>

	<h3><a href="#">The code</a></h3>
	<div>If you'd like copies of the javascript or back-end AppEngine scripts, or you have any comments on this please get it touch with me via <a href="http://post.offbeatmammal.com/watson-for-the-web-trapping-javascript-errors">this blog post</a>. You can also find a version of it in the <a href="http://github.com/Offbeatmammal/jsErrLog">jsErrLog project on GitHub</a>.
	<p>If you deploy the script anywhere I'd love to know what you're using it for and how it's helped you.
<table><tr><td valign=top>If you've found it useful would you consider supporting the service?</td><td><form action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="5GYEVCDBA3ALJ">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>
</td></tr></table>

	</div>


	<h3><a href="#">Thanks</a></h3>
	<div>The back-end code makes use of the excellent <a href="https://github.com/shon/httpagentparser">HTTPAgentParser</a> to split out OS and Browser names and versions.
		<p>For developers who just need a simple tool for testing in Chrome, you should check out the great <a href="https://chrome.google.com/webstore/detail/nnplccbllaclkbbmoldiamkhgohelbjh">jsError extension</a>.
		</div>
<hr>
<table><tr><td valign=top><b>jsErrLog</b> is brought to you by an <a href="http://blog.offbeatmammal.com">Offbeatmammal</a>. If you've found it useful would you consider supporting the service?</td><td><form action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="5GYEVCDBA3ALJ">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>
</td></tr></table>
<hr>
<div align="center">
<script type="text/javascript"><!--
google_ad_client = "pub-1755979824919872";
/* 728x90, created 6/29/10 */
google_ad_slot = "2614742942";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
</body>
</html>
